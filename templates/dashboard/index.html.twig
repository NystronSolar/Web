{% extends 'base.html.twig' %}

{% block head %}{% endblock %}

{% block title %}
	Nystron Solar | {{ 'base.dashboard'|trans|raw }}
{% endblock %}

{% block main %}
	<main class="d-flex flex-wrap justify-content-around">
		<nav class="p-3">
			<h2 class="h3">Menu</h2>
			<ul class="nav flex-column">
				<li class="nav-item">
					<a class="nav-link px-0 py-2 active" aria-current="page" href="{{ path('app.dashboard.index') }}">
						<img src="/assets/dashboard/icons/home-active.svg" width="20" height="20"/>
						{{ 'base.dashboard'|trans|raw }}
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link px-0 py-2 text-secondary" aria-current="page" href="/dashboard">
						<img src="/assets/dashboard/icons/electric-bill.svg" width="20" height="20"/>
						{{ 'base.electric_bills'|trans|raw }}
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link px-0 py-2 text-secondary" aria-current="page" href="{{ path('app.dashboard.generation') }}">
						<img src="/assets/dashboard/icons/solar-generation.svg" width="20" height="20"/>
						{{ 'base.generation_details'|trans|raw }}
					</a>
				</li>
			</ul>
		</nav>
		<div class="mt-3 mx-3">
			<h1 class="h2">{{ 'base.dashboard'|trans|raw }}</h1>
			<p>{{ 'route.dashboard.index.title.text'|trans|raw }}</p>
			{% if is_admin %}
				<h2 class="h3">{{ 'route.dashboard.index.admin_subtitle'|trans|raw }}</h2>
				<p>{{ 'route.dashboard.index.admin_subtitle.text'|trans({'%open_admin_link%': '<a href="' ~ path('app.admin.index') ~ '">', '%close_admin_link%': '</a>'})|raw }}</p>
			{% endif %}
			<div class="table-responsive">
				<table class="table table-striped table-sm">
					<thead>
						<tr>
							<th scope="col">{{'route.dashboard.index.table.month'|trans|raw}}</th>
							<th scope="col">{{'base.energy_generated'|trans|raw}}
								(kWh)</th>
							<th scope="col">{{'base.hours_generated'|trans|raw}}</th>
							<th scope="col">{{'route.dashboard.index.table.bill_price'|trans|raw}}
								(R$)</th>
						</tr>
					</thead>
					<tbody>
						{% for month in summary %}
							<tr>
								<td>{{ month.date.month }}/{{ month.date.year }}</td>
								<td>{{ month.generation }}
									kWh</td>
								<td>{{ month.hours }}</td>
								<td>R$30,00</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
	</main>


{% endblock %}
